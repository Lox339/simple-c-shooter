# План реализации 3D шутера

- [x] 1. Настройка проектной структуры и базовой инфраструктуры



  - Создать структуру каталогов для C, C++ и C# компонентов
  - Настроить CMake для C/C++ компонентов
  - Настроить MSBuild проект для C# компонента
  - Создать общий заголовочный файл game_api.h для межъязыкового взаимодействия
  - _Требования: 6.1, 6.2, 6.3_

- [x] 2. Реализация Core Engine (C) - базовая структура


  - [x] 2.1 Создать основной игровой цикл и управление состоянием



    - Реализовать структуру GameState и PlayerState
    - Написать функции инициализации и очистки движка
    - Создать основной игровой цикл с контролем FPS
    - _Требования: 5.4, 1.1_

  
  - [x] 2.2 Реализовать систему обработки ввода

    - Создать InputManager для обработки клавиатуры и мыши
    - Реализовать функции handle_input и handle_mouse
    - Добавить обработку клавиш WASD и мыши для управления камерой
    - _Требования: 1.1, 1.2, 2.1_
  
  - [x] 2.3 Создать систему управления игровыми объектами


    - Реализовать структуры Enemy и Projectile
    - Создать функции для создания, обновления и удаления объектов
    - Добавить базовую логику спавна врагов
    - _Требования: 3.1, 3.4, 2.2_

- [ ] 3. Реализация Graphics & Physics Engine (C++) - базовый рендеринг
  - [-] 3.1 Настроить OpenGL контекст и базовый рендеринг

    - Создать класс Renderer с инициализацией OpenGL
    - Реализовать базовые шейдеры для 3D рендеринга
    - Добавить класс Camera для управления видом от первого лица
    - _Требования: 1.3, 5.1, 5.3_
  
  - [ ] 3.2 Реализовать систему загрузки и отображения 3D моделей
    - Создать класс Model для загрузки простых 3D объектов
    - Реализовать рендеринг базовых геометрических форм (кубы, сферы)
    - Добавить систему текстур и материалов
    - _Требования: 3.2, 4.2_
  
  - [ ] 3.3 Создать базовый физический движок
    - Реализовать класс PhysicsEngine с базовой физикой
    - Добавить обнаружение столкновений между объектами
    - Создать систему RigidBody для физических объектов
    - _Требования: 1.4, 4.1_

- [ ] 4. Реализация банихоп механики и продвинутого движения
  - [ ] 4.1 Создать BunnyHopController класс
    - Реализовать отслеживание состояния "на земле" vs "в воздухе"
    - Добавить расчет ускорения на основе поворотов мыши
    - Создать алгоритм сохранения горизонтальной скорости при прыжках
    - _Требования: 1.4, 8.1, 8.2_
  
  - [ ] 4.2 Интегрировать банихоп в систему движения игрока
    - Подключить BunnyHopController к обновлению PlayerState
    - Реализовать ограничение максимальной скорости
    - Добавить расчет текущей скорости игрока для отображения
    - _Требования: 8.2, 8.4, 1.5_
  
  - [ ]* 4.3 Написать тесты для банихоп механики
    - Создать unit тесты для BunnyHopController
    - Протестировать граничные случаи скорости и ускорения
    - _Требования: 8.1, 8.2_

- [ ] 5. Реализация UI Manager (C#) - базовый интерфейс
  - [ ] 5.1 Создать базовую структуру UI системы
    - Реализовать класс UIManager с основными компонентами
    - Создать систему рендеринга UI элементов
    - Добавить обработку событий пользовательского интерфейса
    - _Требования: 7.1, 7.2_
  
  - [ ] 5.2 Реализовать спидометр в правом верхнем углу
    - Создать класс Speedometer с позиционированием
    - Добавить цветовое кодирование скорости (белый/желтый/красный)
    - Реализовать обновление отображения скорости в реальном времени
    - _Требования: 1.5, 8.3_
  
  - [ ] 5.3 Создать игровой HUD
    - Реализовать отображение здоровья, боеприпасов и счета
    - Добавить прицел в центре экрана
    - Создать систему обновления HUD на основе GameState
    - _Требования: 4.4, 7.1_

- [ ] 6. Реализация системы стрельбы и врагов
  - [ ] 6.1 Создать систему стрельбы игрока
    - Реализовать создание Projectile при клике левой кнопки мыши
    - Добавить физику полета снарядов с учетом гравитации
    - Создать визуальное отображение снарядов с трейлом
    - _Требования: 2.1, 2.2, 2.3, 2.4_
  
  - [ ] 6.2 Реализовать систему врагов с ИИ
    - Создать базовый ИИ для движения врагов к игроку
    - Добавить систему стрельбы врагов
    - Реализовать различные типы врагов
    - _Требования: 3.1, 3.2, 3.3, 3.4_
  
  - [ ] 6.3 Создать систему столкновений и урона
    - Реализовать обнаружение попаданий снарядов по врагам
    - Добавить визуальные эффекты попаданий
    - Создать систему здоровья и смерти объектов
    - _Требования: 4.1, 4.2, 4.3_

- [ ] 7. Реализация звуковой системы
  - [ ] 7.1 Создать базовую звуковую систему
    - Реализовать класс AudioSystem для воспроизведения звуков
    - Добавить поддержку 3D позиционного звука
    - Создать систему загрузки и управления звуковыми файлами
    - _Требования: 9.1, 9.2_
  
  - [ ] 7.2 Добавить игровые звуки
    - Реализовать звуки выстрелов, взрывов и шагов
    - Добавить звуки приземления для банихоп механики
    - Создать фоновую музыку для игры
    - _Требования: 9.1, 9.3, 8.5_
  
  - [ ]* 7.3 Создать настройки звука в UI
    - Добавить регулировку громкости звуков и музыки
    - Реализовать сохранение настроек звука
    - _Требования: 9.4_

- [ ] 8. Создание полноценного меню и настроек
  - [ ] 8.1 Реализовать главное меню
    - Создать MainMenu с опциями "Играть", "Настройки", "Выход"
    - Добавить навигацию между меню
    - Реализовать запуск игры из меню
    - _Требования: 7.1_
  
  - [ ] 8.2 Создать меню настроек
    - Реализовать настройки графики (разрешение, качество)
    - Добавить настройки управления (чувствительность мыши)
    - Создать настройки звука
    - _Требования: 7.2_
  
  - [ ] 8.3 Добавить меню паузы
    - Реализовать паузу игры по нажатию ESC
    - Создать меню паузы с возможностью продолжить или выйти
    - _Требования: 7.3_

- [ ] 9. Настройка GitHub Actions для автоматической сборки
  - [ ] 9.1 Создать workflow для сборки C/C++ компонентов
    - Настроить сборку для Windows, Linux и macOS
    - Добавить установку зависимостей (OpenGL, GLFW)
    - Создать артефакты сборки
    - _Требования: 6.1, 6.2_
  
  - [ ] 9.2 Настроить сборку C# компонента
    - Добавить сборку .NET проекта в workflow
    - Настроить связывание C# с C/C++ библиотеками
    - _Требования: 6.1, 6.3_
  
  - [ ] 9.3 Создать финальную сборку игры
    - Объединить все компоненты в единый исполняемый файл
    - Добавить упаковку ресурсов (модели, текстуры, звуки)
    - Создать релизные артефакты для всех платформ
    - _Требования: 6.2, 6.3_
  
  - [ ]* 9.4 Настроить автоматические тесты
    - Добавить запуск unit тестов в CI/CD
    - Создать интеграционные тесты для межъязыкового взаимодействия
    - _Требования: 6.4_

- [ ] 10. Финальная интеграция и полировка
  - [ ] 10.1 Интегрировать все компоненты
    - Обеспечить корректное взаимодействие между C, C++ и C# частями
    - Протестировать полный игровой цикл
    - Исправить проблемы производительности
    - _Требования: 5.1, 5.4_
  
  - [ ] 10.2 Оптимизировать производительность
    - Профилировать игру для достижения 60+ FPS
    - Оптимизировать рендеринг и физические расчеты
    - Исправить утечки памяти
    - _Требования: 5.1_
  
  - [ ] 10.3 Добавить финальные игровые элементы
    - Создать систему счета и рекордов
    - Добавить экран окончания игры
    - Реализовать корректное освобождение ресурсов при выходе
    - _Требования: 4.4, 7.4_